import{u as f,r as n,j as e}from"./index-CPkwxBer.js";import{S as u}from"./sweetalert2.esm.all-AlKuj1Cq.js";import{a as h}from"./api-B1tGtW5E.js";const y=()=>{const o=f(),[t,l]=n.useState({username:"",password:""}),[i,c]=n.useState(!1),[r,x]=n.useState(!1),g=async a=>{var d,m;a.preventDefault(),c(!0);try{const s=await h.post("/auth/login",t);s.data.success&&(localStorage.setItem("admin_token",s.data.token),localStorage.setItem("admin_user",JSON.stringify(s.data.user)),u.fire({icon:"success",title:"Login Berhasil!",text:`Selamat datang, ${s.data.user.full_name||s.data.user.username}`,confirmButtonColor:"#079108",timer:2e3}).then(()=>{o("/admin")}))}catch(s){console.error("Login error:",s),u.fire({icon:"error",title:"Login Gagal",text:((m=(d=s.response)==null?void 0:d.data)==null?void 0:m.error)||"Username atau password salah",confirmButtonColor:"#079108"})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-custom-mint to-custom-green flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-custom-mint rounded-full flex items-center justify-center",children:e.jsx("i",{className:"fas fa-user-shield text-4xl text-custom-green"})}),e.jsx("h1",{className:"text-3xl font-extrabold text-custom-green",children:"Login Staff"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Refresh Breeze CMS"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:t.username,onChange:a=>l({...t,username:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-custom-green focus:border-custom-green transition-all",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:r?"text":"password",value:t.password,onChange:a=>l({...t,password:a.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-custom-green focus:border-custom-green transition-all",placeholder:"Enter password",required:!0}),e.jsx("button",{type:"button",onClick:()=>x(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-custom-green transition-colors",tabIndex:"-1",children:e.jsx("i",{className:`fas ${r?"fa-eye-slash":"fa-eye"} text-lg`})})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-custom-green text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors shadow-lg flex justify-center items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner animate-spin"}),e.jsx("span",{children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),e.jsx("span",{children:"Login"})]})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs text-center text-gray-400",children:["Username: ",e.jsx("span",{className:"font-mono",children:"staffERBE"})]}),e.jsxs("p",{className:"text-xs text-center text-gray-400 mt-1",children:["Password: ",e.jsx("span",{className:"font-mono",children:"hijauERBE"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>o("/"),className:"text-custom-green hover:text-green-700 font-semibold text-sm",children:"‚Üê Kembali ke Home"})})]})})};export{y as default};
