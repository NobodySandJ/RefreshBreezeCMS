import{u as pe,r as i,j as e}from"./index-G4WPNwdP.js";import{K as W,m as r,g as C,k as Y,L as ge,d as X,A as S,f as he,M as ue,N as _,O as be,P as fe,Q as ye}from"./index-Cu0b6TYE.js";import{H as je,F as we,g as F}from"./Footer-BSl6AdMJ.js";import{a as u}from"./api-B1tGtW5E.js";import{S as Ne}from"./Skeleton-DzHyuXJm.js";import{g as ve,f as ke}from"./memberUtils-DmuWHEHR.js";const Ie=()=>{var z,G,U,K,J,Q;const Z=pe(),[o,ee]=i.useState(null),[ae,te]=i.useState([]),[x,se]=i.useState([]),[D,re]=i.useState(!0),[R,T]=i.useState(!1),[c,j]=i.useState([]),[w,h]=i.useState(1),[l,N]=i.useState({nama_panggilan:"",kontak:"",event_id:""}),[p,le]=i.useState(null),[P,I]=i.useState(null),[ie,v]=i.useState(!1),[b,M]=i.useState(!1),[O,ne]=i.useState(null),[f,H]=i.useState(!1),L=i.useRef(null),[Ce,Se]=i.useState(!1),oe=a=>a.toLowerCase().replace(/[^a-z0-9]/g,""),$=a=>{const t=oe(a);return t==="acaa"||t==="aca"?F("/images/shop/aca.webp"):F(`/images/shop/${t}.webp`)},ce={Januari:0,Februari:1,Maret:2,April:3,Mei:4,Juni:5,Juli:6,Agustus:7,September:8,Oktober:9,November:10,Desember:11},de=a=>{if(!a.tanggal||!a.bulan||!a.tahun)return!1;const t=new Date;t.setHours(0,0,0,0);const s=parseInt(a.tanggal),n=ce[a.bulan],d=parseInt(a.tahun);if(isNaN(s)||n===void 0||isNaN(d))return!1;const m=new Date(d,n,s);return t>m};i.useEffect(()=>{(async()=>{try{const[t,s,n]=await Promise.all([u.get("/config"),u.get("/members"),u.get("/events?is_past=false")]);if(t.data.success&&ee(t.data.data),s.data.success){const d=s.data.data.filter(m=>m.member_id!=="group").sort((m,V)=>m.nama_panggung.localeCompare(V.nama_panggung));te(d)}n.data.success&&se(n.data.data)}catch(t){console.error("Failed to fetch data:",t)}finally{re(!1)}})()},[]);const q=Number(o==null?void 0:o.hargaChekiPerMember)||25e3,A=Number(o==null?void 0:o.hargaChekiGrup)||3e4,y={bank:(o==null?void 0:o.paymentInfo_bank)||"BCA",rekening:(o==null?void 0:o.paymentInfo_rekening)||"8162015779",atasNama:(o==null?void 0:o.paymentInfo_atasNama)||"Reyhan Alfa Sukmajati"},B=(a,t=null)=>{const s=a==="group",n=s?F("/images/members/group.webp"):$(t.nama_panggung),d={id:s?"group":t.id,member_id:s?"group":t.id,name:s?"Cheki Group":`Cheki ${t.nama_panggung}`,price:s?A:q,quantity:1,image:n};j(m=>m.find(g=>g.id===d.id)?m.map(g=>g.id===d.id?{...g,quantity:g.quantity+1}:g):[...m,d])},E=(a,t)=>{j(s=>s.map(n=>{if(n.id===a){const d=Math.max(1,n.quantity+t);return{...n,quantity:d}}return n}).filter(n=>n.quantity>0))},k=c.reduce((a,t)=>a+t.price*t.quantity,0),xe=a=>{const t=a.target.files[0];if(t){le(t);const s=URL.createObjectURL(t);I(s)}},me=async a=>{if(a.preventDefault(),!p)return alert("Silakan unggah bukti transfer");if(!l.event_id)return alert("Silakan pilih jadwal event");M(!0),v(!0);try{const t=new FormData;t.append("file",p);const s=await u.post("/upload/payment-proof",t);if(v(!1),!s.data.success)throw new Error("Gagal mengunggah bukti bayar");const n={nama_lengkap:l.nama_panggilan,kontak:l.kontak,event_id:l.event_id,items:c,payment_proof_url:s.data.data.url},d=await u.post("/orders",n);d.data.success&&(ne(d.data.order),j([]),I(null),h(3))}catch(t){console.error("Order failed:",t),alert("Terjadi kesalahan saat memesan. Silakan coba lagi.")}finally{M(!1),v(!1)}};return D?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50/30 flex items-center justify-center",children:e.jsx(W,{className:"text-4xl text-[#079108] animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50/30 text-gray-900 overflow-x-hidden",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#079108]/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-emerald-200/20 rounded-full blur-3xl"})]}),e.jsx(je,{cartCount:c.length,onCartClick:()=>c.length>0&&h(1)}),e.jsxs("main",{className:"relative pt-32 pb-40 container mx-auto max-w-7xl px-4",children:[w===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8 xl:gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black tracking-tight mb-3 bg-gradient-to-r from-gray-900 via-gray-700 to-[#079108] bg-clip-text text-transparent",children:"Shop Tickets"}),e.jsx("p",{className:"text-gray-500 font-medium text-sm sm:text-base",children:"Dapatkan tiket cheki eksklusif bersama member favoritmu!"}),e.jsx("div",{className:"absolute -bottom-4 left-0 w-16 sm:w-24 h-1.5 bg-gradient-to-r from-[#079108] to-emerald-300 rounded-full"})]}),e.jsxs(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.5},className:"relative w-full h-56 sm:h-64 md:h-72 lg:h-96 rounded-[1.5rem] sm:rounded-[2rem] overflow-hidden shadow-2xl shadow-black/20 group cursor-pointer",onClick:()=>B("group"),children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"/images/members/group.webp",alt:"Group Cheki",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/50 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#079108]/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),e.jsxs("div",{className:"absolute inset-0 p-8 md:p-12 flex flex-col justify-center items-start z-10",children:[e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"bg-gradient-to-r from-[#079108] to-emerald-500 text-white px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest mb-6 shadow-lg shadow-[#079108]/30",children:"âœ¨ Best Value"}),e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-black text-white uppercase tracking-tight mb-2 sm:mb-3 drop-shadow-2xl",children:"Group Cheki"}),e.jsx("p",{className:"text-gray-300 font-medium max-w-md text-xs sm:text-sm md:text-base leading-relaxed mb-4 sm:mb-8 hidden sm:block",children:"Foto eksklusif bersama seluruh member Refresh Breeze dalam satu frame."}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-8",children:[e.jsxs("span",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-white",children:["IDR ",A.toLocaleString()]}),e.jsx(r.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"bg-white text-[#079108] w-14 h-14 rounded-full flex items-center justify-center shadow-xl shadow-white/20 group-hover:bg-[#079108] group-hover:text-white transition-colors duration-300",children:e.jsx(C,{className:"text-lg"})})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#079108] to-emerald-400 rounded-xl flex items-center justify-center shadow-lg shadow-[#079108]/20",children:e.jsx(Y,{className:"text-white"})}),e.jsx("h3",{className:"text-2xl font-black uppercase tracking-wide",children:"Member Solo Cheki"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 md:gap-6",children:D?[...Array(6)].map((a,t)=>e.jsx("div",{className:"aspect-[3/4] rounded-3xl bg-white/50 backdrop-blur-sm border border-white/50 p-4",children:e.jsx(Ne,{className:"w-full h-full rounded-2xl"})},t)):ae.map((a,t)=>{const s=ve(a.nama_panggung);return e.jsxs(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:t*.1},whileHover:{y:-8,scale:1.02},className:"group relative aspect-[3/4] rounded-3xl overflow-hidden cursor-pointer",onClick:()=>B("member",a),style:{boxShadow:`0 4px 30px ${s}20`},children:[e.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-xl border border-white/50 rounded-3xl transition-all duration-500 group-hover:bg-white/90 group-hover:border-white/80",style:{boxShadow:`0 0 0 0 ${s}`}}),e.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{boxShadow:`0 0 40px ${s}40, inset 0 0 60px ${s}10`}}),e.jsxs("div",{className:"absolute inset-3 top-3 bottom-24 rounded-2xl overflow-hidden bg-gray-100",children:[e.jsx("img",{src:$(a.nama_panggung),alt:a.nama_panggung,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`linear-gradient(to top, ${s}40, transparent 50%)`}})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s}}),e.jsx("h4",{className:"text-lg font-black uppercase tracking-tight text-gray-900 truncate",children:ke(a.nama_panggung)})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"2-Shot Ticket"}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("span",{className:"text-base font-black",style:{color:s},children:["IDR ",q.toLocaleString()]}),e.jsx(r.div,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"w-8 h-8 rounded-full flex items-center justify-center text-white transition-colors duration-300",style:{backgroundColor:s},children:e.jsx(C,{className:"text-xs"})})]})]})]},a.id)})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100/50 p-4 sm:p-6 rounded-xl sm:rounded-2xl flex gap-3 sm:gap-5 items-start shadow-lg shadow-blue-100/30",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/20",children:e.jsx(ge,{className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-900 uppercase text-xs tracking-widest mb-1",children:"Pre-Order System"}),e.jsx("p",{className:"text-sm text-blue-800/70 leading-relaxed",children:"Tiket yang dipesan adalah tiket digital (Pre-Order). Tunjukkan bukti pesanan Anda di booth merchandise saat event berlangsung untuk penukaran."})]})]})]}),e.jsx("div",{className:"hidden lg:block lg:col-span-1",children:e.jsxs("div",{className:"sticky top-32 space-y-6",children:[e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/70 backdrop-blur-xl border border-white/50 rounded-3xl p-6 shadow-2xl shadow-gray-200/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[e.jsxs("h3",{className:"text-base font-black uppercase tracking-widest flex items-center gap-3",children:[e.jsx(X,{className:"text-[#079108]"})," Your Cart"]}),e.jsxs(r.span,{initial:{scale:1.5},animate:{scale:1},className:"bg-gradient-to-r from-[#079108] to-emerald-500 text-white text-[10px] font-bold px-3 py-1.5 rounded-full shadow-lg shadow-[#079108]/20",children:[c.length," Items"]},c.length)]}),e.jsx("div",{className:"space-y-4 mb-6 max-h-[35vh] overflow-y-auto custom-scrollbar pr-2",children:e.jsx(S,{children:c.length===0?e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"text-2xl text-gray-300"})}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Cart is empty"}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Click on a ticket to add"})]}):c.map(a=>e.jsxs(r.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex gap-4 p-3 bg-white/80 rounded-2xl border border-gray-100 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 shadow-md",children:e.jsx("img",{src:a.image,alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs font-black uppercase truncate",children:a.name}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mb-2",children:["IDR ",a.price.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),E(a.id,-1)},className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(he,{className:"text-[8px]"})}),e.jsx("span",{className:"text-xs font-black w-4 text-center",children:a.quantity}),e.jsx("button",{onClick:t=>{t.stopPropagation(),E(a.id,1)},className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(C,{className:"text-[8px]"})})]})]})]},a.id))})}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 p-5 rounded-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Total"}),e.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["IDR ",k.toLocaleString()]})]}),e.jsx(r.button,{whileHover:{scale:c.length>0?1.02:1},whileTap:{scale:c.length>0?.98:1},onClick:()=>c.length>0&&h(2),disabled:c.length===0,className:"w-full bg-gradient-to-r from-[#079108] to-emerald-500 text-white py-4 rounded-xl font-black uppercase text-xs tracking-widest hover:shadow-lg hover:shadow-[#079108]/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Checkout"})]})]}),e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white p-6 rounded-3xl relative overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#079108] blur-[80px] opacity-40"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-emerald-400 blur-[60px] opacity-20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-400 to-[#079108] rounded-lg flex items-center justify-center",children:e.jsx(ue,{className:"text-sm text-white"})}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-emerald-400",children:y.bank})]}),e.jsxs(r.div,{whileHover:{scale:1.02},onClick:()=>{navigator.clipboard.writeText(y.rekening),T(!0),setTimeout(()=>T(!1),2e3)},className:"flex items-center gap-4 cursor-pointer mb-3 p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",title:"Click to copy",children:[e.jsx("p",{className:"text-2xl font-black tracking-wider flex-1",children:y.rekening}),e.jsx("div",{className:"bg-emerald-500/20 p-2.5 rounded-lg text-emerald-400",children:R?e.jsx(_,{className:"text-sm"}):e.jsx(be,{className:"text-sm"})})]}),e.jsx(S,{children:R&&e.jsx(r.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-[10px] font-bold text-emerald-400 uppercase tracking-widest",children:"âœ“ Copied to clipboard!"})}),e.jsx("div",{className:"bg-white/5 inline-block px-4 py-2 rounded-lg mt-2",children:e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:y.atasNama})})]})]})]})})]}),c.length>0&&e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 p-4 z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"text-xl text-[#079108]"}),e.jsx("span",{className:"absolute -top-2 -right-2 bg-[#079108] text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center font-bold",children:c.reduce((a,t)=>a+t.quantity,0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-bold",children:"Total"}),e.jsxs("p",{className:"text-lg font-black text-gray-900",children:["IDR ",k.toLocaleString()]})]})]}),e.jsx("button",{onClick:()=>h(2),className:"flex-1 max-w-[180px] bg-gradient-to-r from-[#079108] to-emerald-500 text-white py-3.5 px-6 rounded-xl font-black text-xs uppercase tracking-wider shadow-lg shadow-[#079108]/30",children:"Checkout"})]})})]}),w===2&&e.jsxs(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>h(1),className:"mb-8 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-gray-400 hover:text-[#079108] transition-colors",children:[e.jsx(fe,{className:"rotate-180"})," Back to Shop"]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white/50 rounded-3xl p-8 md:p-12 shadow-2xl",children:[e.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest mb-10 text-center bg-gradient-to-r from-gray-900 to-[#079108] bg-clip-text text-transparent",children:"Checkout Order"}),e.jsxs("form",{onSubmit:me,className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 md:gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-[#079108] ml-2",children:"Nama"}),e.jsx("input",{required:!0,value:l.nama_panggilan,onChange:a=>N({...l,nama_panggilan:a.target.value}),className:"w-full bg-gray-50/80 border-2 border-gray-100 rounded-xl sm:rounded-2xl p-3 sm:p-4 font-bold text-sm sm:text-base focus:outline-none focus:border-[#079108] focus:bg-white transition-all",placeholder:"Nama kamu"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-[#079108] ml-2",children:"Kontak (IG / WA)"}),e.jsx("input",{required:!0,value:l.kontak,onChange:a=>N({...l,kontak:a.target.value}),className:"w-full bg-gray-50/80 border-2 border-gray-100 rounded-xl sm:rounded-2xl p-3 sm:p-4 font-bold text-sm sm:text-base focus:outline-none focus:border-[#079108] focus:bg-white transition-all",placeholder:"@username atau 08xxx"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-[#079108] ml-2",children:"Pilih Event"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{onClick:()=>H(!f),className:`w-full bg-gray-50/80 border-2 rounded-xl sm:rounded-2xl p-3 sm:p-4 pr-12 font-bold text-sm sm:text-base cursor-pointer transition-all flex items-center justify-between ${f?"border-[#079108] bg-white":"border-gray-100 hover:border-gray-200"}`,children:[l.event_id&&x.find(a=>a.id===l.event_id)?e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-[#079108]",children:"ðŸ“…"}),e.jsx("span",{children:(z=x.find(a=>a.id===l.event_id))==null?void 0:z.nama}),((G=x.find(a=>a.id===l.event_id))==null?void 0:G.is_special)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-white text-[10px] font-bold",style:{backgroundColor:((U=x.find(a=>a.id===l.event_id))==null?void 0:U.theme_color)||"#FF6B9D"},children:((K=x.find(a=>a.id===l.event_id))==null?void 0:K.theme_name)||"Special"}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-gray-500",children:[(J=x.find(a=>a.id===l.event_id))==null?void 0:J.tanggal," ",(Q=x.find(a=>a.id===l.event_id))==null?void 0:Q.bulan]})]}):e.jsx("span",{className:"text-gray-400",children:"â€” Pilih Jadwal Event â€”"}),e.jsx("svg",{className:`w-5 h-5 text-[#079108] transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(S,{children:f&&e.jsx(r.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-white border-2 border-gray-100 rounded-2xl shadow-xl overflow-hidden",children:e.jsx("div",{className:"max-h-48 overflow-y-auto",children:x.length===0?e.jsx("p",{className:"text-sm text-gray-400 p-4 text-center",children:"Tidak ada event tersedia"}):x.map(a=>{const t=de(a);return e.jsx("div",{onClick:()=>{t||(N({...l,event_id:a.id}),H(!1))},className:`p-4 transition-all border-b border-gray-50 last:border-b-0 ${l.event_id===a.id?"bg-[#079108]/10":t?"bg-gray-50 opacity-60 cursor-not-allowed":"hover:bg-gray-50 cursor-pointer"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${l.event_id===a.id?"border-[#079108] bg-[#079108]":"border-gray-300"}`,children:l.event_id===a.id&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"font-black text-sm",children:a.nama}),a.is_special&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-white text-[10px] font-bold",style:{backgroundColor:a.theme_color||"#FF6B9D"},children:a.theme_name||"Special"}),t&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-600 text-[10px] font-bold",children:"Closed"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.tanggal," ",a.bulan," ",a.tahun," â€¢ ðŸ“ ",a.lokasi]})]})]})},a.id)})})})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-[#079108] ml-2",children:"Bukti Transfer"}),e.jsxs("div",{onClick:()=>L.current.click(),className:`relative border-2 border-dashed rounded-2xl overflow-hidden cursor-pointer transition-all ${p?"border-[#079108] bg-[#079108]/5":"border-gray-200 hover:border-[#079108]/50 hover:bg-gray-50"}`,style:{minHeight:"180px"},children:[e.jsx("input",{type:"file",ref:L,hidden:!0,onChange:xe,accept:"image/*"}),P?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P,alt:"Preview",className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:e.jsx("p",{className:"text-white text-xs font-bold",children:"Klik untuk ganti"})}),e.jsxs("div",{className:"absolute top-2 right-2 bg-[#079108] text-white px-2 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1",children:[e.jsx(_,{})," Uploaded"]})]}):e.jsxs("div",{className:"h-44 flex flex-col items-center justify-center",children:[e.jsx(ye,{className:"text-3xl text-gray-300 mb-2"}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Upload Bukti Transfer"}),e.jsx("p",{className:"text-[10px] text-gray-300 mt-1",children:"Klik atau drag file gambar"})]})]}),p&&e.jsxs("p",{className:"text-[10px] text-gray-500 ml-2",children:["ðŸ“Ž ",p.name," (",(p.size/1024).toFixed(0)," KB)"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 p-4 sm:p-6 rounded-xl sm:rounded-2xl space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-500 uppercase tracking-widest",children:[e.jsx("span",{children:"Total Bayar"}),e.jsxs("span",{className:"text-gray-900 text-lg font-black",children:["IDR ",k.toLocaleString()]})]}),e.jsx(r.button,{whileHover:{scale:b?1:1.02},whileTap:{scale:b?1:.98},disabled:b,className:"w-full bg-gradient-to-r from-gray-900 to-gray-700 text-white py-3.5 sm:py-4 rounded-xl font-black uppercase text-xs tracking-widest hover:from-[#079108] hover:to-emerald-600 transition-all disabled:opacity-70 flex items-center justify-center gap-3",children:b?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"animate-spin"}),ie?"Mengupload...":"Memproses Order..."]}):"Confirm Order"})]})]})]})]})]}),w===3&&O&&e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-xl mx-auto text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},className:"w-28 h-28 bg-gradient-to-br from-[#079108] to-emerald-500 text-white rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#079108]/40",children:e.jsx(_,{className:"text-5xl"})}),e.jsx("h2",{className:"text-4xl font-black uppercase tracking-widest mb-4 bg-gradient-to-r from-gray-900 to-[#079108] bg-clip-text text-transparent",children:"Order Success!"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Terima kasih! Pesananmu telah tersimpan."}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-dashed border-[#079108]/30 p-8 rounded-3xl mb-8 shadow-lg",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Order ID"}),e.jsx("p",{className:"text-3xl font-black text-[#079108] tracking-widest select-all",children:O.order_number})]}),e.jsx(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z("/"),className:"px-10 py-4 bg-gradient-to-r from-gray-900 to-gray-700 text-white rounded-full font-black uppercase text-xs tracking-widest hover:from-[#079108] hover:to-emerald-600 transition-all shadow-xl",children:"Return Home"})]})]}),e.jsx(we,{})]})};export{Ie as default};
